<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Summarize an emmGrid from a Bayesian model — hpd.summary • emmeans</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Summarize an emmGrid from a Bayesian model — hpd.summary"><meta name="description" content="This function computes point estimates and HPD intervals for each
factor combination in object@emmGrid. While this function
may be called independently, it is called automatically by the S3 method
summary.emmGrid when the object is based on a Bayesian model.
(Note: the level argument, or its default, is passed as prob)."><meta property="og:description" content="This function computes point estimates and HPD intervals for each
factor combination in object@emmGrid. While this function
may be called independently, it is called automatically by the S3 method
summary.emmGrid when the object is based on a Bayesian model.
(Note: the level argument, or its default, is passed as prob)."><meta property="og:image" content="https://rvlenth.github.io/emmeans/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">emmeans</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.10.6-090003</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/AQuickStart.html">Quick start guide for **emmeans**</a></li>
    <li><a class="dropdown-item" href="../articles/basics.html">Basics of estimated marginal means</a></li>
    <li><a class="dropdown-item" href="../articles/comparisons.html">Comparisons and contrasts in emmeans</a></li>
    <li><a class="dropdown-item" href="../articles/confidence-intervals.html">Confidence intervals and tests in emmeans</a></li>
    <li><a class="dropdown-item" href="../articles/FAQs.html">FAQs for emmeans</a></li>
    <li><a class="dropdown-item" href="../articles/interactions.html">Interaction analysis in emmeans</a></li>
    <li><a class="dropdown-item" href="../articles/messy-data.html">Working with messy data</a></li>
    <li><a class="dropdown-item" href="../articles/models.html">Models supported by emmeans</a></li>
    <li><a class="dropdown-item" href="../articles/predictions.html">Prediction in **emmeans**</a></li>
    <li><a class="dropdown-item" href="../articles/re-engineering-clds.html">Re-engineering CLDs</a></li>
    <li><a class="dropdown-item" href="../articles/sophisticated.html">Sophisticated models in emmeans</a></li>
    <li><a class="dropdown-item" href="../articles/transformations.html">Transformations and link functions in emmeans</a></li>
    <li><a class="dropdown-item" href="../articles/utilities.html">Utilities and options for emmeans</a></li>
    <li><a class="dropdown-item" href="../articles/vignette-topics.html">Index of vignette topics</a></li>
    <li><a class="dropdown-item" href="../articles/xplanations.html">Explanations supplement</a></li>
    <li><a class="dropdown-item" href="../articles/xtending.html">For developers: Extending **emmeans**</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/rvlenth/emmeans/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Summarize an emmGrid from a Bayesian model</h1>
      <small class="dont-index">Source: <a href="https://github.com/rvlenth/emmeans/blob/master/R/MCMC-support.R" class="external-link"><code>R/MCMC-support.R</code></a></small>
      <div class="d-none name"><code>hpd.summary.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function computes point estimates and HPD intervals for each
factor combination in <code>object@emmGrid</code>. While this function
may be called independently, it is called automatically by the S3 method
<code><a href="summary.emmGrid.html">summary.emmGrid</a></code> when the object is based on a Bayesian model.
(Note: the <code>level</code> argument, or its default, is passed as <code>prob</code>).</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">hpd.summary</span><span class="op">(</span><span class="va">object</span>, <span class="va">prob</span>, <span class="va">by</span>, <span class="va">type</span>, point.est <span class="op">=</span> <span class="va">median</span>, <span class="va">delta</span>,</span>
<span>  bias.adjust <span class="op">=</span> <span class="fu"><a href="emm_options.html">get_emm_option</a></span><span class="op">(</span><span class="st">"back.bias.adj"</span><span class="op">)</span>, <span class="va">sigma</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-object">object<a class="anchor" aria-label="anchor" href="#arg-object"></a></dt>
<dd><p>an <code>emmGrid</code> object having a non-missing <code>post.beta</code> slot</p></dd>


<dt id="arg-prob">prob<a class="anchor" aria-label="anchor" href="#arg-prob"></a></dt>
<dd><p>numeric probability content for HPD intervals (note: when not specified,
the current <code>level</code> option is used; see <code><a href="emm_options.html">emm_options</a></code>)</p></dd>


<dt id="arg-by">by<a class="anchor" aria-label="anchor" href="#arg-by"></a></dt>
<dd><p>factors to use as <code>by</code> variables</p></dd>


<dt id="arg-type">type<a class="anchor" aria-label="anchor" href="#arg-type"></a></dt>
<dd><p>prediction type as in <code><a href="summary.emmGrid.html">summary.emmGrid</a></code></p></dd>


<dt id="arg-point-est">point.est<a class="anchor" aria-label="anchor" href="#arg-point-est"></a></dt>
<dd><p>function to use to compute the point estimates from the
posterior sample for each grid point</p></dd>


<dt id="arg-delta">delta<a class="anchor" aria-label="anchor" href="#arg-delta"></a></dt>
<dd><p>Numeric equivalence threshold (on the linear predictor scale
regardless of <code>type</code>).
See the section below on equivalence testing.</p></dd>


<dt id="arg-bias-adjust">bias.adjust<a class="anchor" aria-label="anchor" href="#arg-bias-adjust"></a></dt>
<dd><p>Logical value for whether to adjust for bias in
back-transforming (<code>type = "response"</code>). This requires a value of
<code>sigma</code> to exist in the object or be specified.</p></dd>


<dt id="arg-sigma">sigma<a class="anchor" aria-label="anchor" href="#arg-sigma"></a></dt>
<dd><p>Error SD assumed for bias correction (when
<code>type = "response"</code>. If not specified,
<code>object@misc$sigma</code> is used, and a warning if it is not found or invalid.
<em>Note:</em> <code>sigma</code> may be a vector, as long as it conforms to the
number of observations in the posterior sample.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>required but not used</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>an object of class <code>summary_emm</code></p>
    </div>
    <div class="section level2">
    <h2 id="equivalence-testing-note">Equivalence testing note<a class="anchor" aria-label="anchor" href="#equivalence-testing-note"></a></h2>


<p>If <code>delta</code> is positive, two columns labeled <code>p.equiv</code> and
  <code>odds.eq</code> are appended to the summary. <code>p.equiv</code> is the fraction
  of posterior estimates having absolute values less than <code>delta</code>. The
  <code>odds.eq</code> column is just <code>p.equiv</code> converted to an odds ratio; so
  it is the posterior odds of equivalence.</p>
<p>A high value of <code>p.equiv</code> is evidence
  in favor of equivalence. It can be used to obtain something equivalent
  (in spirit) to the frequentist Schuirmann (TOST) procedure, whereby we would
  conclude equivalence at significance level \(\alpha\) if the \((1 - 2\alpha)\)
  confidence interval falls entirely in the interval \([-\delta, \delta]\).
  Similarly in the Bayesian context, an equally strong argument for
  equivalence is obtained if <code>p.equiv</code> exceeds \(1 - 2\alpha\).</p>
<p>A closely related quantity is the ROPE (region of practical equivalence),
  obtainable via <code>bayestestR::rope(object, range = c(-delta, delta))</code>.
  Its value is approximately <code>100 * p.equiv / 0.95</code> if the default
  <code>ci = 0.95</code> is used. See also <span class="pkg">bayestestR</span>'s
  <a href="https://github.com/easystats/bayestestR/issues/567" class="external-link">issue #567</a>.</p>
<p>Finally, a Bayes factor for equivalence is obtainable by dividing
  <code>odds.eq</code> by the prior odds of equivalence, assessed or elicited separately.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>summary.emmGrid</p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span><span class="op">(</span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">require</a></span><span class="op">(</span><span class="st">"coda"</span><span class="op">)</span><span class="op">)</span> </span></span>
<span class="r-in"><span>    <span class="fu"><a href="emm_example.html">emm_example</a></span><span class="op">(</span><span class="st">"hpd.summary-coda"</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Loading required package: coda</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> --- Running code from 'system.file("extexamples", "hpd.summary-coda.R", package = "emmeans")'</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &gt; cbpp.rg &lt;- do.call(emmobj, readRDS(system.file("extdata", </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> +     "cbpplist", package = "emmeans")))</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &gt; cbpp.emm &lt;- emmeans(cbpp.rg, "period")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &gt; hpd.summary(cbpp.emm)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  period emmean lower.HPD upper.HPD</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  1       -1.43     -1.96    -0.894</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  2       -2.39     -3.13    -1.823</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  3       -2.52     -3.19    -1.862</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  4       -2.97     -3.88    -1.998</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Point estimate displayed: median </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Results are given on the logit (not the response) scale. </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> HPD interval probability: 0.95 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &gt; summary(pairs(cbpp.emm), type = "response", delta = log(2))</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  contrast          odds.ratio lower.HPD upper.HPD p.equiv odds.eq</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  period1 / period2       2.60     1.264      4.34   0.210  0.2658</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  period1 / period3       2.90     1.266      5.42   0.114  0.1287</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  period1 / period4       4.64     1.595      9.76   0.026  0.0267</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  period2 / period3       1.14     0.486      2.36   0.918 11.1951</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  period2 / period4       1.78     0.580      4.35   0.604  1.5253</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  period3 / period4       1.55     0.437      4.01   0.700  2.3333</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Point estimate displayed: median </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 'p.equiv' and 'odds.eq' based on posterior P(|lin. pred.| &lt; 0.6931) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Results are back-transformed from the log odds ratio scale </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> HPD interval probability: 0.95 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span>    <span class="co"># Use emm_example("hpd.summary-coda", list = TRUE) # to see just the code</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Russell V. Lenth.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

