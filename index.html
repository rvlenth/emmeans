<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Estimated Marginal Means, aka Least-Squares Means • emmeans</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="favicon-96x96.png">
<link rel="icon" type="”image/svg+xml”" href="favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
<link rel="icon" sizes="any" href="favicon.ico">
<link rel="manifest" href="site.webmanifest">
<!-- mathjax math --><script src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script><script>
  window.MathJax = {
    chtml: {
      fontURL: "https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/output/chtml/fonts/woff-v2"
    }
  };
</script><script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Estimated Marginal Means, aka Least-Squares Means">
<meta name="description" content='Obtain estimated marginal means (EMMs) for many linear, generalized linear, and mixed models. Compute contrasts or linear functions of EMMs, trends, and comparisons of slopes. Plots and other displays. Least-squares means are discussed, and the term "estimated marginal means" is suggested, in Searle, Speed, and Milliken (1980) Population marginal means in the linear model: An alternative to least squares means, The American Statistician 34(4), 216-221 &lt;doi:10.1080/00031305.1980.10483031&gt;.'>
<meta property="og:description" content='Obtain estimated marginal means (EMMs) for many linear, generalized linear, and mixed models. Compute contrasts or linear functions of EMMs, trends, and comparisons of slopes. Plots and other displays. Least-squares means are discussed, and the term "estimated marginal means" is suggested, in Searle, Speed, and Milliken (1980) Population marginal means in the linear model: An alternative to least squares means, The American Statistician 34(4), 216-221 &lt;doi:10.1080/00031305.1980.10483031&gt;.'>
<meta property="og:image" content="https://rvlenth.github.io/emmeans/logo.png">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">emmeans</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.11.2-80001</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="articles/AQuickStart.html">Quick start guide for **emmeans**</a></li>
    <li><a class="dropdown-item" href="articles/basics.html">Basics of estimated marginal means</a></li>
    <li><a class="dropdown-item" href="articles/comparisons.html">Comparisons and contrasts in emmeans</a></li>
    <li><a class="dropdown-item" href="articles/confidence-intervals.html">Confidence intervals and tests in emmeans</a></li>
    <li><a class="dropdown-item" href="articles/FAQs.html">FAQs for emmeans</a></li>
    <li><a class="dropdown-item" href="articles/interactions.html">Interaction analysis in emmeans</a></li>
    <li><a class="dropdown-item" href="articles/messy-data.html">Working with messy data</a></li>
    <li><a class="dropdown-item" href="articles/models.html">Models supported by emmeans</a></li>
    <li><a class="dropdown-item" href="articles/predictions.html">Prediction in **emmeans**</a></li>
    <li><a class="dropdown-item" href="articles/re-engineering-clds.html">Re-engineering CLDs</a></li>
    <li><a class="dropdown-item" href="articles/sophisticated.html">Sophisticated models in emmeans</a></li>
    <li><a class="dropdown-item" href="articles/transformations.html">Transformations and link functions in emmeans</a></li>
    <li><a class="dropdown-item" href="articles/utilities.html">Utilities and options for emmeans</a></li>
    <li><a class="dropdown-item" href="articles/vignette-topics.html">Index of vignette topics</a></li>
    <li><a class="dropdown-item" href="articles/xplanations.html">Explanations supplement</a></li>
    <li><a class="dropdown-item" href="articles/xtending.html">For developers: Extending **emmeans**</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/rvlenth/emmeans/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header">
<img src="logo.png" class="logo" alt=""><h1 id="r-package-emmeans-estimated-marginal-means-">R package <strong>emmeans</strong>: Estimated marginal means <a class="anchor" aria-label="anchor" href="#r-package-emmeans-estimated-marginal-means-"></a>
</h1>
</div>
<div class="section level2">
<h2 id="website">Website<a class="anchor" aria-label="anchor" href="#website"></a>
</h2>
<p><a href="https://rvlenth.github.io/emmeans/" class="uri">https://rvlenth.github.io/emmeans/</a></p>
</div>
<div class="section level2">
<h2 id="features">Features<a class="anchor" aria-label="anchor" href="#features"></a>
</h2>
<p>Estimated marginal means (EMMs, also known as least-squares means in the context of traditional regression models) are derived by using a model to make predictions over a regular grid of predictor combinations (called a <em>reference grid</em>). These predictions may possibly be averaged (typically with equal weights) over one or more of the predictors. Such marginally-averaged predictions are useful for describing the results of fitting a model, particularly in presenting the effects of factors. The <strong>emmeans</strong> package can easily produce these results, as well as various graphs of them (interaction-style plots and side-by-side intervals).</p>
<ul>
<li><p>Estimation and testing of pairwise comparisons of EMMs, and several other types of contrasts, are provided.</p></li>
<li><p>In rank-deficient models, the estimability of predictions is checked, to avoid outputting results that are not uniquely defined.</p></li>
<li><p>For models where continuous predictors interact with factors, the package’s <code>emtrends</code> function works in terms of a reference grid of predicted slopes of trend lines for each factor combination.</p></li>
<li><p>Vignettes are provided on various aspects of EMMs and using the package. See the <a href="https://CRAN.R-project.org/package=emmeans" class="external-link">CRAN page</a>.</p></li>
<li><p>We try to provide flexible (but pretty basic) graphics support for the <code>emmGrid</code> objects produced by the package. Also, support is provided for nested fixed effects.</p></li>
<li><p>Response transformations and link functions are supported via a <code>type</code> argument in many functions (e.g., <code>type = "response"</code> to back-transform results to the response scale). Also, a <code><a href="reference/regrid.html">regrid()</a></code> function is provided to reconstruct the object on any transformed scale that the user wishes.</p></li>
<li><p>Two-way support of the <code>glht</code> function in the <strong>multcomp</strong> package.</p></li>
</ul>
</div>
<div class="section level2">
<h2 id="model-support">Model support<a class="anchor" aria-label="anchor" href="#model-support"></a>
</h2>
<ul>
<li><p>The package incorporates support for many types of models, including standard models fitted using <code>lm</code>, <code>glm</code>, and relatives, various mixed models, GEEs, survival models, count models, ordinal responses, zero-inflated models, and others. Provisions for some models include special modes for accessing different types of predictions; for example, with zero-inflated models, one may opt for the estimated response including zeros, just the linear predictor, or the zero model. For details, see <a href="https://CRAN.R-project.org/package=emmeans/vignettes/models.html" class="external-link"><code>vignette("models", package = "emmeans")</code></a></p></li>
<li><p>Various Bayesian models (<strong>carBayes</strong>, <strong>MCMCglmm</strong>, <strong>MCMCpack</strong>) are supported by way of creating a posterior sample of least-squares means or contrasts thereof, which may then be examined using tools such as in the <strong>coda</strong> package.</p></li>
<li><p>Package developers are encouraged to incorporate <strong>emmeans</strong> support for their models by writing <code>recover_data</code> and <code>emm_basis</code> methods. See <a href="https://CRAN.R-project.org/package=emmeans/vignettes/xtending.html" class="external-link"><code>vignette("extending", package = "emmeans")</code></a></p></li>
</ul>
</div>
<div class="section level2">
<h2 id="versions-and-installation">Versions and installation<a class="anchor" aria-label="anchor" href="#versions-and-installation"></a>
</h2>
<ul>
<li><p><strong>CRAN</strong> The latest CRAN version may be found at <a href="https://CRAN.R-project.org/package=emmeans" class="external-link">https://CRAN.R-project.org/package=emmeans</a>. Also at that site, formatted versions of this package’s vignettes may be viewed.</p></li>
<li><p><strong>GitHub</strong> To install the latest development version from GitHub, install the newest version of the <strong>remotes</strong> package. If you are a Windows user, you should also first download and install the latest version of <a href="https://cran.r-project.org/bin/windows/Rtools/" class="external-link"><code>Rtools</code></a>. Then run</p></li>
</ul>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">remotes</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"rvlenth/emmeans"</span>, dependencies <span class="op">=</span> <span class="cn">TRUE</span>, build_vignettes <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p>Omitting the <code>build_vignettes</code> argument can save some time if you don’t want the vignettes. They can always be found <a href="https://cran.r-project.org/package=emmeans" class="external-link">for the latest CRAN version</a> or – perhaps more up-to-date – the <a href="https://rvlenth.github.io/emmeans/">emmeans site</a>.</p>
<p><em>Note:</em></p>
<p>For the latest release notes on this development version, see the <a href="https://github.com/rvlenth/emmeans/blob/master/NEWS.md" class="external-link">NEWS file</a></p>
</div>
<div class="section level2">
<h2 id="rounding">Rounding<a class="anchor" aria-label="anchor" href="#rounding"></a>
</h2>
<p>For its summary output, <strong>emmeans</strong> uses an optimal-digits algorithm that rounds results to about the number of digits that are useful, relative to estimates’ confidence limits. This avoids cluttering the output, but it is unlike other R results, which are typically less round. If this is annoying to you, there is an option (<code>opt.digits = FALSE</code>) that disables the optimal-digits routine.</p>
</div>
<div class="section level2">
<h2 id="tidiness-can-be-dangerous">“Tidiness” can be dangerous<a class="anchor" aria-label="anchor" href="#tidiness-can-be-dangerous"></a>
</h2>
<p>I see more and more users who are in a terrible hurry to get results. They develop a “workflow” where they plan-out several steps at once and pipe them together. That’s useful when you don’t have to think about what happens in those steps; but <em>when you’re doing statistics, you should be thinking!</em> Most functions in the <strong>emmeans</strong> package yield results that are accompanied by annotations such as transformations involved, P-value adjustments made, the families for those adjustments, etc. If you just pipe the results into some more code, <em>you never see those annotations</em>.</p>
<p><strong>Please slow down!</strong> Look at the actual results from each <strong>emmeans</strong> package function without any post-processing – None. That way, you’ll see the annotated summaries. Statistics is pretty hard stuff. Don’t make it harder by blindfolding yourself.</p>
</div>
<div class="section level2">
<h2 id="supersession-plan">Supersession plan<a class="anchor" aria-label="anchor" href="#supersession-plan"></a>
</h2>
<p>The developer of <strong>emmeans</strong> continues to maintain and occasionally add new features. However, none of us is immortal; and neither is software. I have thought of trying to find a co-maintainer who could carry the ball once I am gone or lose interest, but the flip side of that is that the codebase is not getting less messy as time goes on – why impose that on someone else? So my thought now is that if at some point, enough active R developers want the capabilities of <strong>emmeans</strong> but I am no longer in the picture, they should feel free to supersede it with some other package that does it better. All of the code is publicly available on GitHub, so just take what is useful and replace what is not.</p>
<div class="section level5">
<h5 id="note-emmeans-supersedes-the-package-lsmeans-the-latter-is-just-a-front-end-for-emmeans-and-in-fact-the-lsmeans-function-itself-is-part-of-emmeans">
<em>Note: <strong>emmeans</strong> supersedes the package <strong>lsmeans</strong>. The latter is just a front end for <strong>emmeans</strong>, and in fact, the <code>lsmeans()</code> function itself is part of <strong>emmeans</strong>.</em><a class="anchor" aria-label="anchor" href="#note-emmeans-supersedes-the-package-lsmeans-the-latter-is-just-a-front-end-for-emmeans-and-in-fact-the-lsmeans-function-itself-is-part-of-emmeans"></a>
</h5>
</div>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://cloud.r-project.org/package=emmeans" class="external-link">View on CRAN</a></li>
<li><a href="https://github.com/rvlenth/emmeans/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/rvlenth/emmeans/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li>
<a href="https://www.r-project.org/Licenses/GPL-2" class="external-link">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3" class="external-link">GPL-3</a>
</li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing emmeans</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Russell V. Lenth <br><small class="roles"> Author, maintainer, copyright holder </small>   </li>
<li><a href="authors.html">More about authors...</a></li>
</ul>
</div>



  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Russell V. Lenth.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
